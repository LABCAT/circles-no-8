(this["webpackJsonpcircles-no-8"]=this["webpackJsonpcircles-no-8"]||[]).push([[0],{15:function(t,e,i){},33:function(t,e,i){"use strict";i.r(e);var s=i(1),o=i.n(s),a=i(9),n=i.n(a),h=(i(15),i(2));window.p5=h;i(20);var c=i(10),d=i(0);function r(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}class l{constructor(t,e,i,s,o){this.p=t,this.colour=e,this.PARTICLE_START_FORCE=50,this.PARTILE_MAX_VEL=4,this.PARTICLE_MAX_ACC=10,this.SHRINK_RATE=5,this.loc=this.p.createVector(i.x,i.y),this.vel=this.p.createVector(0,0),this.acc=this.p.createVector(0,0),this.size=this.p.random(s,o),this.angle=0}update(){this.angle+=this.p.random(0,this.p.TWO_PI);let t=this.p.random(0,this.PARTICLE_START_FORCE);this.acc.x+=this.p.cos(this.angle)*t,this.acc.y+=this.p.sin(this.angle)*t,this.acc.limit(this.PARTICLE_MAX_ACC),this.vel.add(this.acc),this.vel.limit(this.PARTICLE_MAX_VEL),this.loc.add(this.vel),this.loc.x>this.p.width&&(this.loc.x-=this.p.width),this.loc.x<0&&(this.loc.x+=this.p.width),this.loc.y>this.p.height&&(this.loc.y-=this.p.height),this.loc.y<0&&(this.loc.y+=this.p.height),this.size-=this.SHRINK_RATE}display(){this.p.stroke(255,255,255),this.p.fill(this.colour.R,this.colour.G,this.colour.B,63),this.p.ellipse(this.loc.x,this.loc.y,this.size,this.size),this.colour.update(),this.colour.update(),this.p.fill(this.colour.R,this.colour.G,this.colour.B,127),this.p.ellipse(this.loc.x,this.loc.y,this.size/2,this.size/2),this.colour.update(),this.p.fill(this.colour.R,this.colour.G,this.colour.B,193),this.p.ellipse(this.loc.x,this.loc.y,this.size/5,this.size/4)}isDead(){return this.size<0}}class u{constructor(t,e){this.p=t,this.colour=e,this.particles=[],this.count=0,this.particleMinSize=t.width/48,this.particleMaxSize=t.width/32}setColour(t){this.colour=t}updateParticleMinMaxSize(){this.particleMinSize=this.p.width/32,this.particleMaxSize=this.p.width/20}addParticle(t){this.count++;if(this.particles.length+5<50)for(let e=0;e<5;e++)this.particles.push(new l(this.p,this.colour,t,this.particleMinSize,this.particleMaxSize))}update(){for(let t=this.particles.length-1;t>=0;t--){let e=this.particles[t];e.update(),e.isDead()?(this.particles.splice(t,1),this.count--):e.display()}}}class p{constructor(t){this.p=t,this.MIN_SPEED=.2,this.MAX_SPEED=.7,this.R=0,this.G=0,this.B=0,this.Rspeed=0,this.Gspeed=0,this.Bspeed=0,this.init()}init(){this.R=this.p.random(255),this.G=this.p.random(255),this.B=this.p.random(255),this.Rspeed=(this.p.random(1)>.5?1:-1)*this.p.random(this.MIN_SPEED,this.MAX_SPEED),this.Gspeed=(this.p.random(1)>.5?1:-1)*this.p.random(this.MIN_SPEED,this.MAX_SPEED),this.Bspeed=(this.p.random(1)>.5?1:-1)*this.p.random(this.MIN_SPEED,this.MAX_SPEED)}update(){this.Rspeed=(this.R+=this.Rspeed)>255||this.R<0?-this.Rspeed:this.Rspeed,this.Gspeed=(this.G+=this.Gspeed)>255||this.G<0?-this.Gspeed:this.Gspeed,this.Bspeed=(this.B+=this.Bspeed)>255||this.B<0?-this.Bspeed:this.Bspeed}}var m=i.p+"static/media/circles-no-8.e2de327b.ogg",g=i.p+"static/media/circles-no-8.c61934ff.mid";var w=()=>{const t=Object(s.useRef)(),e=t=>{t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.loadMidi=()=>{c.Midi.fromUrl(g).then((function(e){console.log(e);const i=e.tracks[2].notes;t.scheduleCueSet(i,"executeCueSet1");const s=e.tracks[4].notes;t.scheduleCueSet(s,"executeCueSet2");const o=e.tracks[11].notes;t.scheduleCueSet(o,"executeCueSet3"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=()=>{t.song=t.loadSound(m,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,a=1;for(let n=0;n<e.length;n++){const h=e[n],{ticks:c,time:d}=h;(c!==o||s)&&(h.currentCue=a,t.song.addCue(d,t[i],h),o=c,a++)}},t.colour=null,t.system=null,t.bgColourSet=[],t.currentBG=null,t.setup=()=>{t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.background(0,0,0),t.colour=new p(t),t.system=new u(t,t.colour),t.randomColor=i(31),t.bgColourSet=t.randomColor({luminosity:"dark",count:12}),t.currentBG=t.random(t.bgColourSet)},t.draw=()=>{t.audioLoaded&&t.song.isPlaying()&&t.system.update()},t.direction="left",t.x=0,t.y=0,t.moduloMap=0,t.setNextLocation=()=>{switch(t.direction){case"right":t.x=t.map(t.moduloMap%122880,0,122880,t.width-t.width/32,0+t.width/32),t.y=t.random(0,t.height);break;case"down":t.x=t.random(0,t.width),t.y=t.map(t.moduloMap%122880,0,122880,0+t.height/32,t.height-t.height/32);break;case"up":t.x=t.random(0,t.width),t.y=t.map(t.moduloMap%122880,0,122880,t.width-t.height/32,0+t.height/32);break;default:t.x=t.map(t.moduloMap%122880,0,122880,0+t.width/32,t.width-t.width/32),t.y=t.random(0,t.height)}},t.executeCueSet1=e=>{const{currentCue:i,ticks:s}=e;t.moduloMap=s%122880,i%16===0&&(i<80&&t.background(0,0,0,239),t.system=new u(t,t.colour),t.direction=t.random(["left","right","down","up"].filter((e=>e!==t.direction)))),t.setNextLocation(),t.system.setColour(t.colour),t.system.addParticle(t.createVector(t.x,t.y))},t.executeCueSet2=e=>{const{currentCue:i}=e;i%2===0&&i<48&&(t.currentBG=t.bgColourSet.filter((e=>e!==t.currentBG)),t.background(t.currentBG),t.system.updateParticleMinMaxSize()),t.setNextLocation(),t.system.addParticle(t.createVector(t.x,t.y))},t.executeCueSet3=e=>{t.setNextLocation(),t.system.addParticle(t.createVector(t.x,t.y))},t.hasStarted=!1,t.mousePressed=()=>{t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play(),"undefined"===typeof window.dataLayer||t.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),t.hasStarted=!1)))},t.creditsLogged=!1,t.logCredits=()=>{!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=()=>{},t.updateCanvasDimensions=()=>{t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(s.useEffect)((()=>{new h(e,t.current)}),[]),Object(d.jsx)("div",{ref:t,children:Object(d.jsx)(r,{})})};var y=function(){return Object(d.jsx)(w,{})};n.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.575635c1.chunk.js.map